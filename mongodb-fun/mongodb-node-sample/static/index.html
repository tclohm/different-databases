<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" contet="width=device-width, initial-scale=1.0">
	<title>MongoDB Sample Application</title>
</head>
<body>
	<input type="text" placeholder="search" id="search" />
	<button id="btn">search</button>
	<pre>
		<code id="code"></code>
	</pre>

	<script type="text/javascript">
		const btn = document.getElementById('btn');
		const code = document.getElementById('code');
		const search = document.getElementById('search');

		btn.addEventListener('click', async () => {
			code.innerText = 'loading';
			const res = await fetch(
				'/get?search=' + encodeURIComponent(search.value)
			);

			const json = await res.json();

			code.innerText = "\n" + JSON.stringify(json, null, 4);
		});
	</script>
</body>
</html>